<%- include("navbar.ejs") %>

<div class="container mt-4">
    <h2 class="text-center">Manage Specialists</h2>
    
    <!-- Form to Add a New Specialist -->
    <form action="/admin/save_specialist1" method="POST" enctype="multipart/form-data" class="mb-5">
        <div class="mb-3">
            <label class="form-label">Image:</label>
            <input type="file" class="form-control" name="image">
        </div>
        <div class="mb-3">
            <label class="form-label">Name:</label>
            <input type="text" class="form-control" name="name" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Specialization:</label>
            <input type="text" class="form-control" name="specialization" required>
        </div>
        <div class="mb-3">
            <label class="form-label">Description:</label>
            <textarea class="form-control" name="description" rows="3" required></textarea>
        </div>
        <button type="submit" class="btn btn-success">Add Specialist</button>
    </form>

    <!-- Display List of Specialists -->
    <h3 class="text-center">Specialists List</h3>
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Image</th>
                <th>Name</th>
                <th>Specialization</th>
                <th>Description</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (specialists.length === 0) { %>
                <tr>
                    <td colspan="6" class="text-center">No specialists available.</td>
                </tr>
            <% } else { %>
                <% specialists.forEach(specialist => { %>
                    <tr>
                        <td><%= specialist.id %></td>
                        <td>
                            <img src="/admin_assets/<%= specialist.image %>" width="80" height="50">
                        </td>   
                        <td><%= specialist.name %></td>
                        <td><%= specialist.specialization %></td>
                        <td><%= specialist.description %></td>
                        <td>
                            <a href="/admin/edit_specialist_1/<%= specialist.id %>" class="btn btn-warning btn-sm">Edit</a>
                            <a href="/admin/delete_specialist_1/<%= specialist.id %>" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?')">Delete</a>
                        </td>
                    </tr>
                <% }) %>
            <% } %>
        </tbody>
    </table>
</div>

<%- include("footer.ejs") %>
