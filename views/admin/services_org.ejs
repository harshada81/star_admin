<%- include("navbar.ejs"); %>

<div class="container mt-5">
    <h2>Manage Services</h2>

    <!-- Add New Service Form -->
    <div class="card p-4 mb-4">
        <h4>Add New Service</h4>
        <form action="/admin/save_service_org" method="POST" enctype="multipart/form-data">
            <div class="mb-3">
                <label class="form-label">Image 1</label>
                <input type="file" name="image1" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Image 2</label>
                <input type="file" name="image2" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Image 3</label>
                <input type="file" name="image3" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Title 1</label>
                <input type="text" name="title1" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Title 2</label>
                <input type="text" name="title2" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Title 3</label>
                <input type="text" name="title3" class="form-control" required>
            </div>
            <div class="mb-3">
                <label class="form-label">Description 1</label>
                <textarea name="description1" class="form-control" required></textarea>
            </div>
            <div class="mb-3">
                <label class="form-label">Description 2</label>
                <textarea name="description2" class="form-control" required></textarea>
            </div>
            <div class="mb-3">
                <label class="form-label">Description 3</label>
                <textarea name="description3" class="form-control" required></textarea>
            </div>
            <button type="submit" class="btn btn-success">Save</button>
        </form>
    </div>

    <!-- Services List -->
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Images</th>
                <th>Titles</th>
                <th>Descriptions</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <% if (services.length > 0) { %>
                <% services.forEach(service => { %>
                    <tr>
                        <td>
                            <img src="/admin_assets/<%= service.image1 %>" width="50">
                            <img src="/admin_assets/<%= service.image2 %>" width="50">
                            <img src="/admin_assets/<%= service.image3 %>" width="50">
                        </td>
                        <td>
                            <strong><%= service.title1 %></strong><br>
                            <strong><%= service.title2 %></strong><br>
                            <strong><%= service.title3 %></strong>
                        </td>
                        <td>
                            <%= service.description1 %><br>
                            <%= service.description2 %><br>
                            <%= service.description3 %>
                        </td>
                        <td>
                            <a href="/admin/edit_service_org/<%= service.id %>" class="btn btn-warning btn-sm">Edit</a>
                            <a href="/admin/delete_service_org/<%= service.id %>" class="btn btn-danger btn-sm" onclick="return confirm('Are you sure?');">Delete</a>
                        </td>
                    </tr>
                <% }); %>
            <% } else { %>
                <tr>
                    <td colspan="4" class="text-center">No records found</td>
                </tr>
            <% } %>
        </tbody>
    </table>
</div>

<%- include("footer.ejs"); %>
